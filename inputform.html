<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fahrzeugauswahl</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap");

      body {
        font-family: "Roboto", sans-serif;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        background: linear-gradient(135deg, #f9f9f9, #e3e3e3);
      }

      .container {
        max-width: 950px;
        width: 100%;
        padding: 25px;
        background: #a6e2a9;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        animation: fadeIn 0.5s ease-in-out;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      h2 {
        text-align: center;
        color: #01160e;
        font-weight: 700;
        margin-bottom: 20px;
      }

      .form-group {
        display: flex;
        flex-direction: column;
        margin-bottom: 15px;
      }

      label {
        font-weight: 600;
        color: #444;
        margin-bottom: 5px;
      }

      select,
      input {
        width: 100%;
        padding: 12px;
        border: 2px solid #bec4bf;
        border-radius: 6px;
        transition: border 0.3s, box-shadow 0.3s;
        font-size: 16px;
        background-color: #fdfdfd;
        box-sizing: border-box;
      }

      select:focus,
      input:focus {
        border-color: #28a745;
        box-shadow: 0 0 8px rgba(25, 82, 38, 0.3);
        border: 2px solid;
        outline: none;
        transform: scale(1.04);
      }

      button {
        margin-top: 20px;
        background: linear-gradient(90deg, #28a745, #218838);
        color: white;
        border: none;
        padding: 14px;
        width: 100%;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
        font-weight: 600;
        transition: all 0.3s ease-in-out;
        box-shadow: 0 3px 10px rgba(40, 167, 69, 0.3);
        display: block;
      }

      button:hover {
        background: linear-gradient(90deg, #218838, #1e7e34);
        transform: scale(1.02);
        box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4);
      }

      button:active {
        transform: scale(0.98);
      }

      /* Custom styling for the color dropdown */
      .color-preview {
        width: 95%;
        padding: 12px;
        border: 2px solid #ccc;
        border-radius: 6px;
        font-size: 16px;
        text-align: center;
        cursor: pointer;
        background-color: white;
        transition: all 0.3s ease-in-out;
      }

      .color-preview:hover {
        border-color: #218838;
        box-shadow: 0 0 8px rgba(40, 167, 69, 0.3);
      }

      .color-select {
        padding: 8px;
        font-size: 16px;
        border: 2px solid #ccc;
        border-radius: 5px;
        background-color: white;
        cursor: pointer;
        transition: all 0.3s ease-in-out;
        appearance: none; /* Entfernt Standard-Styling in Safari */
        }

        .color-select:hover, 
        .color-select:focus {
        border-color: #888;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        }




        /* Dynamische Hintergrundfarbe basierend auf der Auswahl */
        .color-select option {
        padding: 10px;
        font-weight: bold;
        }

        .color-select option[value="White"] { background-color: white; color: black; }
        .color-select option[value="Black"] { background-color: black; color: white; }
        .color-select option[value="Grey"] { background-color: grey; color: white; }
        .color-select option[value="Silver"] { background-color: silver; color: black; }
        .color-select option[value="Blue"] { background-color: blue; color: white; }
        .color-select option[value="Red"] { background-color: red; color: white; }
        .color-select option[value="Green"] { background-color: green; color: white; }
        .color-select option[value="Yellow"] { background-color: yellow; color: black; }
        .color-select option[value="Orange"] { background-color: orange; color: black; }
        .color-select option[value="Brown"] { background-color: brown; color: white; }
        .color-select option[value="Beige"] { background-color: beige; color: black; }
        .color-select option[value="Purple"] { background-color: purple; color: white; }
        .color-select option[value="Pink"] { background-color: pink; color: black; }
        .color-select option[value="Gold"] { background-color: gold; color: black; }
        .color-select option[value="Turquoise"] { background-color: turquoise; color: black; }

        /*checkbox */

        /* Basic Reset */
        fieldset {
        border: 1px solid #ccc;
        border-radius: 8px;
        padding: 20px;
        margin: 0;
        }

        legend {
        font-weight: bold;
        font-size: 1.1em;
        padding: 0 10px;
        }

        .checkbox-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 10px;
        }

        label {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 1em;
        cursor: pointer;
        }

        input[type="checkbox"] {
        width: 18px;
        height: 18px;
        cursor: pointer;
        }

        /* Hover and Focus States */
        label:hover {
        color: #50dd68;
        }

        input[type="checkbox"]:focus {
        outline: 2px solid #023015;
        outline-offset: 2px;
        }
        input[type="checkbox"] {
        appearance: none;
        width: 18px;
        height: 18px;
        border: 2px solid #007bff;
        border-radius: 4px;
        cursor: pointer;
        position: relative;
      }

      input[type="checkbox"]:checked::before {
        content: "✔";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: #061a01;
        font-size: 14px;
}
        /* Responsive Design */
        @media (max-width: 600px) {
        .checkbox-container {
            grid-template-columns: 1fr;
        }
        }

             /* Two-column layout */
             .columns {
        display: flex;
        gap: 150px; /* Space between columns */
      }

      .column {
        flex: 1; /* Each column takes equal width */
        display: flex;
        flex-direction: column;
        gap: 15px; /* Space between form elements */
        min-width: 350px; /* Ensure columns don't get too narrow */

      }
      
    </style>
  </head>
  <body>
  <div class="container">
      <h2>Auto-Modell Auswahl</h2>

      <!-- Left Column: Car Options -->
  <div class="columns">
    <div class="column">
      <label for="brand">Wähle eine Marke:</label>
      <select id="brand">
        <option value="">-- Bitte wählen --</option>
        <option value="BMW">BMW</option>
        <option value="Mercedes">Mercedes</option>
        <option value="Audi">Audi</option>
        <option value="Volkswagen">Volkswagen</option>
        <option value="Ford">Ford</option>
        <option value="Toyota">Toyota</option>
        <option value="Opel">Opel</option>
        <option value="Skoda">Skoda</option>
        <option value="Tesla">Tesla</option>
      </select>

      <label for="model">Wähle ein Modell:</label>
      <select id="model" disabled>
        <option value="">-- Bitte erst Marke wählen --</option>
      </select>

      <label for="category">Fahrzeugtyp:</label>
      <select id="category">
        <option value="">-- Bitte wählen --</option>
        <option value="SUV">SUV</option>
        <option value="Sedan">Sedan</option>
        <option value="Coupe">Coupé</option>
        <option value="Cabriolet">Cabriolet</option>
        <option value="Kombi">Kombi</option>
        <option value="Pickup">Pickup</option>
        <option value="Van">Van</option>
        <option value="Sportwagen">Sportwagen</option>
        <option value="Elektro">Elektro</option>
      </select>

      <label for="mileage">Kilometerstand:</label>
      <input type="number" id="mileage" placeholder="z. B. 104000 km" />

      <label for="power">Leistung (PS):</label>
      <input type="number" id="power" placeholder="z. B. 115 PS" />

      <label for="fuel">Kraftstoff:</label>
      <select id="fuel">
        <option value="Petrol">Benzin</option>
        <option value="Diesel">Diesel</option>
        <option value="Electric">Elektro</option>
        <option value="Hybrid">Hybrid</option>
      </select>

      <label for="seats">Anzahl der Sitze:</label>
      <input type="number" id="seats" placeholder="z. B. 5" />

      <label for="doors">Anzahl der Türen:</label>
      <select id="doors">
        <option value="2/3">2/3 Türen</option>
        <option value="4/5">4/5 Türen</option>
      </select>

      <label for="transmission">Getriebe:</label>
      <select id="transmission">
        <option value="Manual">Manuell</option>
        <option value="Automatic">Automatik</option>
      </select>

      <label for="emission">Emissionsklasse:</label>
      <select id="emission">
        <option value="Euro4">Euro4</option>
        <option value="Euro5">Euro5</option>
        <option value="Euro6">Euro6</option>
      </select>

      <label for="registration">Erstzulassung (Monat & Jahr):</label>
      <input type="month" id="firstRegistration" placeholder="z. B. 12-2022" />
      <label for="color">Auto Farbe:</label>
      <select id="color" class="color-select">
        <option value="">-- Bitte wählen --</option>
        <option value="White" data-color="white">Weiß</option>
        <option value="Black" data-color="black">Schwarz</option>
        <option value="Grey" data-color="grey">Grau</option>
        <option value="Silver" data-color="silver">Silber</option>
        <option value="Blue" data-color="blue">Blau</option>
        <option value="Red" data-color="red">Rot</option>
        <option value="Green" data-color="green">Grün</option>
        <option value="Yellow" data-color="yellow">Gelb</option>
        <option value="Orange" data-color="orange">Orange</option>
        <option value="Brown" data-color="brown">Braun</option>
        <option value="Beige" data-color="beige">Beige</option>
        <option value="Purple" data-color="purple">Lila</option>
        <option value="Pink" data-color="pink">Rosa</option>
        <option value="Gold" data-color="gold">Gold</option>
        <option value="Turquoise" data-color="turquoise">Türkis</option>
      </select>
    </div>
           <!-- Right Column: Checkbox List -->
    <div class="column">
      <h3>Ausstattungen</h3>
      <fieldset>
        <legend>Wählen Sie die gewünschten Ausstattungen:</legend>
        <div class="checkbox-container">
          <label><input type="checkbox" name="features" value="ABS"> ABS</label>
          <label><input type="checkbox" name="features" value="Alufelgen"> Alufelgen</label>
          <label><input type="checkbox" name="features" value="Bluetooth"> Bluetooth</label>
          <label><input type="checkbox" name="features" value="CD-Player"> CD-Player</label>
          <label><input type="checkbox" name="features" value="Zentralverriegelung"> Zentralverriegelung</label>
          <label><input type="checkbox" name="features" value="Tagfahrlicht"> Tagfahrlicht</label>
          <label><input type="checkbox" name="features" value="Elektrische Fensterheber"> Elektrische Fensterheber</label>
          <label><input type="checkbox" name="features" value="ESP"> ESP</label>
          <label><input type="checkbox" name="features" value="Isofix"> Isofix</label>
          <label><input type="checkbox" name="features" value="Navigationssystem"> Navigationssystem</label>
          <label><input type="checkbox" name="features" value="Regensensor"> Regensensor</label>
          <label><input type="checkbox" name="features" value="USB-Anschluss"> USB-Anschluss</label>
          <label><input type="checkbox" name="features" value="Winterreifen"> Winterreifen</label>
        </div>
      </fieldset>

      <button onclick="saveCarData()">🚀 Speichern</button>
    </div>
  </div>
  </div>

    <script>
      function getSelectedFeatures() {
        const checkboxes = document.querySelectorAll("input[name='features']:checked");
        return Array.from(checkboxes).map((checkbox) => checkbox.value);
      }
      const models = {
        BMW: ["1er", "3er", "5er", "7er", "X1", "X3", "X5", "X7"],
        Mercedes: ["A-Klasse","C-Klasse","E-Klasse", "S-Klasse","GLC", "GLE","G-Klasse"],
        Audi: ["A1", "A3", "A4", "A6", "Q3", "Q5", "Q7", "R8"],
        Volkswagen: ["Golf", "Passat", "Tiguan", "Touareg", "Polo", "Arteon"],
        Ford: ["Fiesta", "Focus", "Mondeo", "Mustang", "Kuga", "Ranger"],
        Toyota: ["Yaris", "Corolla", "Camry", "RAV4", "Land Cruiser", "Supra"],
        Opel: ["Corsa", "Astra", "Insignia", "Mokka", "Grandland"],
        Skoda: ["Fabia", "Octavia", "Superb", "Kodiaq", "Karoq"],
        Tesla: ["Model S", "Model 3", "Model X", "Model Y", "Cybertruck"],
      };
      document.getElementById("brand").addEventListener("change", function () {
        const selectedBrand = this.value;
        const modelSelect = document.getElementById("model");
        modelSelect.innerHTML = `<option value="">-- Bitte Modell wählen --</option>`;
        modelSelect.disabled = !selectedBrand;

        if (selectedBrand) {
          models[selectedBrand].forEach((model) => {
            const option = document.createElement("option");
            option.value = model;
            option.textContent = model;
            modelSelect.appendChild(option);
          });
        }
      });

      // Color Selection Handling
      document.getElementById("color").addEventListener("change", function () {
        const selectedOption = this.options[this.selectedIndex];
        this.style.backgroundColor = selectedOption.dataset.color;
        this.style.color = selectedOption.value === "Black" ? "white" : "black";
        });

      function saveCarData() {
        const carsData = {
          carId: "car-" + Date.now(),
          userId: "UserId to be created",
          imageURL:"imageURL to be added ",
          attributes:
          {
          creationDate: new Date().toISOString(),
          modificationDate: new Date().toISOString(),
          brand: document.getElementById("brand").value,
          model: document.getElementById("model").value,
          category: document.getElementById("category").value,
          mileage: document.getElementById("mileage").value,
          power: document.getElementById("power").value,
          fuel: document.getElementById("fuel").value,
          seats: document.getElementById("seats").value,
          doors: document.getElementById("doors").value,
          transmission: document.getElementById("transmission").value,
          emission: document.getElementById("emission").value,
          firstRegistration: document.getElementById("firstRegistration").value,
          color: document.getElementById("color").value,
          features: getSelectedFeatures(),
          }
        };

          const blob = new Blob([JSON.stringify(carsData, null, 2)], {
          type: "application/json",
        });
        const a = document.createElement("a");
        a.href = URL.createObjectURL(blob);
        a.download = `${carsData.carId}.json`;
        a.click();
      }
    </script>
  </body>
</html>
