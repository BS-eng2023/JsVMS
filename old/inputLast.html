<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fahrzeugauswahl</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap");

      body {
        font-family: "Roboto", sans-serif;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        background: linear-gradient(135deg, #f9f9f9, #e3e3e3);
      }

      .container {
        max-width: 420px;
        width: 100%;
        padding: 25px;
        background: #a6e2a9;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        animation: fadeIn 0.5s ease-in-out;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      h2 {
        text-align: center;
        color: #01160e;
        font-weight: 700;
        margin-bottom: 20px;
      }

      .form-group {
        display: flex;
        flex-direction: column;
        margin-bottom: 15px;
      }

      label {
        font-weight: 600;
        color: #444;
        margin-bottom: 5px;
      }

      select,
      input {
        width: 100%;
        padding: 12px;
        border: 2px solid #bec4bf;
        border-radius: 6px;
        transition: border 0.3s, box-shadow 0.3s;
        font-size: 16px;
        background-color: #fdfdfd;
        box-sizing: border-box;
      }

      select:focus,
      input:focus {
        border-color: #28a745;
        box-shadow: 0 0 8px rgba(25, 82, 38, 0.3);
        border: 4px solid;
        outline: none;
        transform: scale(1.04);
      }

      button {
        margin-top: 20px;
        background: linear-gradient(90deg, #28a745, #218838);
        color: white;
        border: none;
        padding: 14px;
        width: 100%;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
        font-weight: 600;
        transition: all 0.3s ease-in-out;
        box-shadow: 0 3px 10px rgba(40, 167, 69, 0.3);
        display: block;
      }

      button:hover {
        background: linear-gradient(90deg, #218838, #1e7e34);
        transform: scale(1.02);
        box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4);
      }

      button:active {
        transform: scale(0.98);
      }

      /* Custom styling for the color dropdown */
      .color-preview {
        width: 95%;
        padding: 12px;
        border: 2px solid #ccc;
        border-radius: 6px;
        font-size: 16px;
        text-align: center;
        cursor: pointer;
        background-color: white;
        transition: all 0.3s ease-in-out;
      }

      .color-preview:hover {
        border-color: #218838;
        box-shadow: 0 0 8px rgba(40, 167, 69, 0.3);
      }


    </style>
  </head>
  <body>
    <div class="container">
      <h2>Auto-Modell Auswahl</h2>

      <label for="brand">W√§hle eine Marke:</label>
      <select id="brand">
        <option value="">-- Bitte w√§hlen --</option>
        <option value="BMW">BMW</option>
        <option value="Mercedes">Mercedes</option>
        <option value="Audi">Audi</option>
        <option value="Volkswagen">Volkswagen</option>
        <option value="Ford">Ford</option>
        <option value="Toyota">Toyota</option>
        <option value="Opel">Opel</option>
        <option value="Skoda">Skoda</option>
        <option value="Tesla">Tesla</option>
      </select>

      <label for="model">W√§hle ein Modell:</label>
      <select id="model" disabled>
        <option value="">-- Bitte erst Marke w√§hlen --</option>
      </select>

      <label for="category">Fahrzeugtyp:</label>
      <select id="category">
        <option value="">-- Bitte w√§hlen --</option>
        <option value="SUV">SUV</option>
        <option value="Sedan">Sedan</option>
        <option value="Coupe">Coup√©</option>
        <option value="Cabriolet">Cabriolet</option>
        <option value="Kombi">Kombi</option>
        <option value="Pickup">Pickup</option>
        <option value="Van">Van</option>
        <option value="Sportwagen">Sportwagen</option>
        <option value="Elektro">Elektro</option>
      </select>

      <label for="mileage">Kilometerstand:</label>
      <input type="number" id="mileage" placeholder="z. B. 104000 km" />

      <label for="power">Leistung (PS):</label>
      <input type="number" id="power" placeholder="z. B. 115 PS" />

      <label for="drive">Antriebsart:</label>
      <select id="driveType">
        <option value="Internal combustion engine">Verbrennungsmotor</option>
        <option value="Hybrid">Hybrid</option>
        <option value="Electric">Elektro</option>
        <option value="Hydrogen">Wasserstoff</option>
      </select>

      <label for="fuel">Kraftstoff:</label>
      <select id="fuel">
        <option value="Petrol">Benzin</option>
        <option value="Diesel">Diesel</option>
        <option value="Electric">Elektro</option>
        <option value="Hybrid">Hybrid</option>
      </select>

      <label for="seats">Anzahl der Sitze:</label>
      <input type="number" id="seats" placeholder="z. B. 5" />

      <label for="doors">Anzahl der T√ºren:</label>
      <select id="doors">
        <option value="2/3">2/3 T√ºren</option>
        <option value="4/5">4/5 T√ºren</option>
      </select>

      <label for="transmission">Getriebe:</label>
      <select id="transmission">
        <option value="Manual">Manuell</option>
        <option value="Automatic">Automatik</option>
      </select>

      <label for="emission">Emissionsklasse:</label>
      <select id="emission">
        <option value="Euro4">Euro4</option>
        <option value="Euro5">Euro5</option>
        <option value="Euro6">Euro6</option>
      </select>

      <label for="registration">Erstzulassung (Monat & Jahr):</label>
      <input type="month" id="firstRegistration" placeholder="z. B. 12-2022" />

      <label for="color">Farbe:</label>
      <select id="color">
        <option value="">-- Bitte w√§hlen --</option>
        <option value="White" style="background-color: white; color: black"> Wei√ü</option>
        <option value="Black" style="background-color: black; color: white">Schwarz</option>
        <option value="Grey" style="background-color: grey; color: white">Grau</option>
        <option value="Silver" style="background-color: silver; color: black"> Silber</option>
        <option value="Blue" style="background-color: blue; color: white">Blau</option>
        <option value="Red" style="background-color: red; color: white">Rot</option>
        <option value="Green" style="background-color: green; color: white">Gr√ºn</option>
        <option value="Yellow" style="background-color: yellow; color: black">Gelb</option>
        <option value="Orange" style="background-color: orange; color: black">Orange</option>
        <option value="Brown" style="background-color: brown; color: white">Braun</option>
        <option value="Beige" style="background-color: beige; color: black">Beige</option>
        <option value="Purple" style="background-color: purple; color: white">Lila</option>
        <option value="Pink" style="background-color: pink; color: black"> Rosa</option>
        <option value="Gold" style="background-color: gold; color: black">Gold</option>
        <option value="Turquoise"style="background-color: turquoise; color: black">T√ºrkis</option>
      </select>

      <h3>Ausstattungen</h3>
      <fieldset>
        <label>Features:</label>
        <label><input type="checkbox" name="features" value="ABS" /> ABS</label>
        <label><input type="checkbox" name="features" value="Alloy wheels" />Alufelgen</label>
        <label><input type="checkbox" name="features" value="Bluetooth" />Bluetooth</label>
        <label><input type="checkbox" name="features" value="CD player" />CD-Player</label>
        <label><input type="checkbox" name="features" value="Central locking" />Zentralverriegelung</label>
        <label><input type="checkbox" name="features" value="Daytime running lights"/>Tagfahrlicht</label>
        <label><input type="checkbox" name="features" value="Electric windows" />Elektrische Fensterheber</label>
        <label><input type="checkbox" name="features" value="ESP" /> ESP</label>
        <label><input type="checkbox" name="features" value="Isofix" /> Isofix</label>
        <label><input type="checkbox" name="features" value="Navigation system" />Navigationssystem</label>
        <label><input type="checkbox" name="features" value="Rain sensor" />Regensensor</label>
        <label><input type="checkbox" name="features" value="USB port" />USB-Anschluss</label>
        <label><input type="checkbox" name="features" value="Winter tyres" /> Winterreifen</label>
      </fieldset>
      <button onclick="saveCarData()">üöÄ Speichern</button>
    </div>

    <script>
      function getSelectedFeatures() {
        const checkboxes = document.querySelectorAll("input[name='features']:checked");
        return Array.from(checkboxes).map((checkbox) => checkbox.value);
      }
      const models = {
        BMW: ["1er", "3er", "5er", "7er", "X1", "X3", "X5", "X7"],
        Mercedes: ["A-Klasse","C-Klasse","E-Klasse", "S-Klasse","GLC", "GLE","G-Klasse"],
        Audi: ["A1", "A3", "A4", "A6", "Q3", "Q5", "Q7", "R8"],
        Volkswagen: ["Golf", "Passat", "Tiguan", "Touareg", "Polo", "Arteon"],
        Ford: ["Fiesta", "Focus", "Mondeo", "Mustang", "Kuga", "Ranger"],
        Toyota: ["Yaris", "Corolla", "Camry", "RAV4", "Land Cruiser", "Supra"],
        Opel: ["Corsa", "Astra", "Insignia", "Mokka", "Grandland"],
        Skoda: ["Fabia", "Octavia", "Superb", "Kodiaq", "Karoq"],
        Tesla: ["Model S", "Model 3", "Model X", "Model Y", "Cybertruck"],
      };
      document.getElementById("brand").addEventListener("change", function () {
        const selectedBrand = this.value;
        const modelSelect = document.getElementById("model");
        modelSelect.innerHTML = `<option value="">-- Bitte Modell w√§hlen --</option>`;
        modelSelect.disabled = !selectedBrand;

        if (selectedBrand) {
          models[selectedBrand].forEach((model) => {
            const option = document.createElement("option");
            option.value = model;
            option.textContent = model;
            modelSelect.appendChild(option);
          });
        }
      });

      // Color Selection Handling
      const colorSelect = document.getElementById("color");
      const colorPreview = document.createElement("div");
      colorPreview.classList.add("color-preview");
      colorPreview.textContent = "Farbe ausw√§hlen";
      colorSelect.parentNode.insertBefore(colorPreview, colorSelect);
      colorSelect.style.display = "none";

      colorPreview.addEventListener("click", function () {
        colorSelect.style.display = "block";
        colorSelect.focus();
      });

      colorSelect.addEventListener("change", function () {
        const selectedOption = colorSelect.options[colorSelect.selectedIndex];
        colorPreview.style.backgroundColor = selectedOption.value;
        colorPreview.textContent = selectedOption.textContent;
        colorSelect.style.display = "none";
      });

      function saveCarData() {
        const carsData = {
          id: "car-" + Date.now(),
          creationDate: new Date().toISOString(),
          modificationDate: new Date().toISOString(),
          brand: document.getElementById("brand").value,
          model: document.getElementById("model").value,
          category: document.getElementById("category").value,
          mileage: document.getElementById("mileage").value,
          power: document.getElementById("power").value,
          driveType: document.getElementById("driveType").value,
          fuel: document.getElementById("fuel").value,
          seats: document.getElementById("seats").value,
          doors: document.getElementById("doors").value,
          transmission: document.getElementById("transmission").value,
          emission: document.getElementById("emission").value,
          firstRegistration: document.getElementById("firstRegistration").value,
          color: document.getElementById("color").value,
          features: getSelectedFeatures(),
        };

        document.querySelectorAll("select, input").forEach((input) => {
          carsData[input.id] = input.value;
        });

        const blob = new Blob([JSON.stringify(carsData, null, 2)], {
          type: "application/json",
        });
        const a = document.createElement("a");
        a.href = URL.createObjectURL(blob);
        a.download = `${carsData.id}.json`;
        a.click();
      }
    </script>
  </body>
</html>
